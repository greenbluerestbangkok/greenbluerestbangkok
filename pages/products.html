<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>สินค้าชุมชน - Green Blue Rest Bangkok</title>
    <link rel="stylesheet" href="../css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="main-header">
        <nav class="navbar">
            <a href="../main.html" class="nav-logo">GreenBlueRest Bangkok</a>
            <ul class="nav-menu">
                <li class="nav-item"><a href="../main.html" class="nav-link">หน้าแรก</a></li>
                <li class="nav-item"><a href="low-carbon.html" class="nav-link">Low Carbon Tourism</a></li>
                <li class="nav-item"><a href="trips.html" class="nav-link">ทริป</a></li>
                <li class="nav-item"><a href="products.html" class="nav-link active">สินค้าชุมชน</a></li>
                <li class="nav-item"><a href="activities.html" class="nav-link">Blog & Vlog</a></li>
                <li class="nav-item"><a href="contact.html" class="nav-link">ติดต่อเรา</a></li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span><span class="bar"></span><span class="bar"></span>
            </div>
        </nav>
    </header>

    <main>
        <section class="container">
            <h2>สินค้าชุมชน</h2>
            
            <!-- ช่องค้นหา -->
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="ค้นหาสินค้า..." class="search-input">
                <button type="button" id="searchBtn" class="search-btn">ค้นหา</button>
                <button type="button" id="clearSearch" class="clear-search-btn">ล้างการค้นหา</button>
            </div>
            
            <!-- ตัวกรองหมวดหมู่ -->
            <div class="category-filters">
                <button class="filter-btn active" data-category="all">ทั้งหมด</button>
                <button class="filter-btn" data-category="food">อาหาร</button>
                <button class="filter-btn" data-category="craft">งานฝีมือ</button>
                <button class="filter-btn" data-category="beauty">ความงาม</button>
                <button class="filter-btn" data-category="home">ของใช้ในบ้าน</button>
            </div>
            
            <div class="product-grid" id="products-grid">
                <!-- สินค้าทั้งหมดจะถูกเพิ่มด้วย JavaScript -->
            </div>
        </section>
    </main>
    
    <footer class="main-footer">
        <div class="footer-container">
            <div class="footer-column">
                <h4>GreenBlueRest Bangkok</h4>
                <p>โครงการท่องเที่ยวชุมชนย่านคลองบางมดอย่างยั่งยืน</p>
            </div>
            <div class="footer-column">
                <h4>เมนู</h4>
                <ul>
                    <li><a href="low-carbon.html">Low Carbon Tourism</a></li>
                    <li><a href="trips.html">ทริป</a></li>
                    <li><a href="products.html">สินค้าชุมชน</a></li>
                    <li><a href="activities.html">Blog & Vlog</a></li>
                    <li><a href="contact.html">ติดต่อเรา</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>ติดต่อ</h4>
                <p>Email: contact@greenbluerestbangkok.com</p>
                <p>โทร: 08x-xxx-xxxx</p>
                <p>Line OA: @greenbluerestbangkok</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Green Blue Rest Bangkok. All Rights Reserved.</p>
        </div>
    </footer>
    
    <script type="module">
        import { productsData } from '../js/products.js';
        
        // ฟังก์ชันสร้างการ์ดสินค้า
        function createProductCard(product) {
            return `
                <div class="product-card" data-category="${product.category}">
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}" class="product-img">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-description">${product.description}</p>
                        <p class="product-producer">ผู้ผลิต: ${product.producer}</p>
                        <div class="product-price">${product.price}</div>
                        <button class="btn btn-primary">ดูรายละเอียด</button>
                    </div>
                </div>
            `;
        }

        // แสดงสินค้าทั้งหมดเมื่อโหลดหน้า
        document.addEventListener('DOMContentLoaded', function() {
            const productsGrid = document.getElementById('products-grid');
            
            // สร้างการ์ดสินค้าทั้งหมด
            productsGrid.innerHTML = productsData.map(product => createProductCard(product)).join('');
            
            // ฟังก์ชันค้นหา
            const searchInput = document.getElementById('searchInput');
            const searchBtn = document.getElementById('searchBtn');
            const clearSearch = document.getElementById('clearSearch');
            
            function filterProducts() {
                const searchTerm = searchInput.value.toLowerCase();
                const filteredProducts = productsData.filter(product => 
                    product.name.toLowerCase().includes(searchTerm) ||
                    product.description.toLowerCase().includes(searchTerm) ||
                    product.producer.toLowerCase().includes(searchTerm)
                );
                
                productsGrid.innerHTML = filteredProducts.map(product => createProductCard(product)).join('');
            }
            
            searchBtn.addEventListener('click', filterProducts);
            searchInput.addEventListener('input', filterProducts);
            clearSearch.addEventListener('click', () => {
                searchInput.value = '';
                productsGrid.innerHTML = productsData.map(product => createProductCard(product)).join('');
            });
            
            // ฟังก์ชันกรองหมวดหมู่
            const filterBtns = document.querySelectorAll('.filter-btn');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const category = this.dataset.category;
                    
                    // อัปเดต active state
                    filterBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    // กรองสินค้า
                    if (category === 'all') {
                        productsGrid.innerHTML = productsData.map(product => createProductCard(product)).join('');
                    } else {
                        const filteredProducts = productsData.filter(product => product.category === category);
                        productsGrid.innerHTML = filteredProducts.map(product => createProductCard(product)).join('');
                    }
                });
            });
        });
    </script>
</body>
</html>