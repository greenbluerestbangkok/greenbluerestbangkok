(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{4154:function(e,a,s){Promise.resolve().then(s.bind(s,1856))},1856:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return r}});var l=s(7437),t=s(2265);function r(){let[e,a]=(0,t.useState)({id:"website",siteName:"",siteDescription:"",siteKeywords:"",contactEmail:"",contactPhone:"",contactAddress:"",socialMedia:{facebook:"",instagram:"",line:"",youtube:""},seo:{metaTitle:"",metaDescription:"",metaKeywords:"",ogImage:""},analytics:{googleAnalytics:"",facebookPixel:""},theme:{primaryColor:"#059669",secondaryColor:"#0891b2",accentColor:"#7c3aed"}}),[s,r]=(0,t.useState)(!0),[i,o]=(0,t.useState)(!1),[c,n]=(0,t.useState)(null),[d,m]=(0,t.useState)(null);(0,t.useEffect)(()=>{h()},[]);let h=async()=>{try{r(!0);let e=await fetch("/admin/api/settings"),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to fetch settings");a(s.settings),n(null)}catch(e){n(e instanceof Error?e.message:"Failed to fetch settings")}finally{r(!1)}},x=(e,s)=>{a(a=>{let l={...a};if(e.includes(".")){let[a,t]=e.split(".");"socialMedia"===a?l.socialMedia={...l.socialMedia,[t]:s}:"seo"===a?l.seo={...l.seo,[t]:s}:"analytics"===a?l.analytics={...l.analytics,[t]:s}:"theme"===a&&(l.theme={...l.theme,[t]:s})}else l[e]=s;return l})},u=async()=>{try{o(!0),n(null),m(null);let a=await fetch("/admin/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await a.json();if(!a.ok)throw Error(s.error||"Failed to update settings");m("บันทึกการตั้งค่าสำเร็จ"),setTimeout(()=>m(null),3e3)}catch(e){n(e instanceof Error?e.message:"Failed to update settings")}finally{o(!1)}};return s?(0,l.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,l.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,l.jsx)("div",{className:"spinner"})})}):(0,l.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"การตั้งค่าเว็บไซต์"}),(0,l.jsx)("p",{className:"text-gray-600",children:"จัดการการตั้งค่า SEO, ข้อมูลติดต่อ และการวิเคราะห์"})]}),(0,l.jsx)("button",{onClick:u,disabled:i,className:"btn-primary disabled:opacity-50",children:i?"กำลังบันทึก...":"บันทึกการตั้งค่า"})]}),c&&(0,l.jsx)("div",{className:"alert alert-error mb-6",children:c}),d&&(0,l.jsx)("div",{className:"alert alert-success mb-6",children:d}),(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"ข้อมูลพื้นฐาน"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"form-label",children:"ชื่อเว็บไซต์"}),(0,l.jsx)("input",{type:"text",value:e.siteName,onChange:e=>x("siteName",e.target.value),className:"form-input"})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"form-label",children:"คำอธิบายเว็บไซต์"}),(0,l.jsx)("textarea",{value:e.siteDescription,onChange:e=>x("siteDescription",e.target.value),className:"form-input",rows:3})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"form-label",children:"Keywords"}),(0,l.jsx)("input",{type:"text",value:e.siteKeywords,onChange:e=>x("siteKeywords",e.target.value),placeholder:"คั่นด้วยเครื่องหมายจุลภาค",className:"form-input"})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"ข้อมูลติดต่อ"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label",children:"อีเมล"}),(0,l.jsx)("input",{type:"email",value:e.contactEmail,onChange:e=>x("contactEmail",e.target.value),className:"form-input"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label",children:"เบอร์โทรศัพท์"}),(0,l.jsx)("input",{type:"tel",value:e.contactPhone,onChange:e=>x("contactPhone",e.target.value),className:"form-input"})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"form-label",children:"ที่อยู่"}),(0,l.jsx)("textarea",{value:e.contactAddress,onChange:e=>x("contactAddress",e.target.value),className:"form-input",rows:2})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Social Media"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label",children:"Facebook"}),(0,l.jsx)("input",{type:"url",value:e.socialMedia.facebook,onChange:e=>x("socialMedia.facebook",e.target.value),placeholder:"https://facebook.com/yourpage",className:"form-input"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label",children:"Instagram"}),(0,l.jsx)("input",{type:"url",value:e.socialMedia.instagram,onChange:e=>x("socialMedia.instagram",e.target.value),placeholder:"https://instagram.com/yourpage",className:"form-input"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label",children:"LINE"}),(0,l.jsx)("input",{type:"text",value:e.socialMedia.line,onChange:e=>x("socialMedia.line",e.target.value),placeholder:"@yourlineid หรือ URL",className:"form-input"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label",children:"YouTube"}),(0,l.jsx)("input",{type:"url",value:e.socialMedia.youtube,onChange:e=>x("socialMedia.youtube",e.target.value),placeholder:"https://youtube.com/channel/yourchannel",className:"form-input"})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"การตั้งค่า SEO"}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label",children:"Meta Title"}),(0,l.jsx)("input",{type:"text",value:e.seo.metaTitle,onChange:e=>x("seo.metaTitle",e.target.value),className:"form-input"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label",children:"Meta Description"}),(0,l.jsx)("textarea",{value:e.seo.metaDescription,onChange:e=>x("seo.metaDescription",e.target.value),className:"form-input",rows:3})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label",children:"Meta Keywords"}),(0,l.jsx)("input",{type:"text",value:e.seo.metaKeywords,onChange:e=>x("seo.metaKeywords",e.target.value),placeholder:"คั่นด้วยเครื่องหมายจุลภาค",className:"form-input"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label",children:"Open Graph Image URL"}),(0,l.jsx)("input",{type:"url",value:e.seo.ogImage,onChange:e=>x("seo.ogImage",e.target.value),placeholder:"https://example.com/og-image.jpg",className:"form-input"})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"การวิเคราะห์"}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label",children:"Google Analytics ID"}),(0,l.jsx)("input",{type:"text",value:e.analytics.googleAnalytics,onChange:e=>x("analytics.googleAnalytics",e.target.value),placeholder:"G-XXXXXXXXXX",className:"form-input"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label",children:"Facebook Pixel ID"}),(0,l.jsx)("input",{type:"text",value:e.analytics.facebookPixel,onChange:e=>x("analytics.facebookPixel",e.target.value),placeholder:"123456789012345",className:"form-input"})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"สีธีม"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label",children:"สีหลัก"}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("input",{type:"color",value:e.theme.primaryColor,onChange:e=>x("theme.primaryColor",e.target.value),className:"w-12 h-10 rounded border border-gray-300"}),(0,l.jsx)("input",{type:"text",value:e.theme.primaryColor,onChange:e=>x("theme.primaryColor",e.target.value),className:"form-input flex-1"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label",children:"สีรอง"}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("input",{type:"color",value:e.theme.secondaryColor,onChange:e=>x("theme.secondaryColor",e.target.value),className:"w-12 h-10 rounded border border-gray-300"}),(0,l.jsx)("input",{type:"text",value:e.theme.secondaryColor,onChange:e=>x("theme.secondaryColor",e.target.value),className:"form-input flex-1"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"form-label",children:"สีเน้น"}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("input",{type:"color",value:e.theme.accentColor,onChange:e=>x("theme.accentColor",e.target.value),className:"w-12 h-10 rounded border border-gray-300"}),(0,l.jsx)("input",{type:"text",value:e.theme.accentColor,onChange:e=>x("theme.accentColor",e.target.value),className:"form-input flex-1"})]})]})]})]})]})]})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=4154)}),_N_E=e.O()}]);