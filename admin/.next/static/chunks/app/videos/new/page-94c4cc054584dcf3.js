(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[630],{1367:function(e,s,a){Promise.resolve().then(a.bind(a,2063))},2063:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return i}});var t=a(7437),l=a(2265),r=a(9376);function i(){let e=(0,r.useRouter)(),[s,a]=(0,l.useState)(!1),[i,n]=(0,l.useState)({title:"",description:"",video_url:"",duration:"",category:"introduction",status:"published"}),o=async s=>{s.preventDefault(),a(!0);try{(await fetch("/api/videos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok?(alert("เพิ่มวิดีโอสำเร็จ!"),e.push("/videos")):alert("เกิดข้อผิดพลาด")}catch(e){alert("เกิดข้อผิดพลาด: "+e)}finally{a(!1)}};return(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/videos"),className:"text-gray-600 hover:text-gray-900 mb-4",children:"← กลับ"}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"เพิ่มวิดีโอใหม่"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"เพิ่มลิงก์วิดีโอจาก YouTube"})]}),(0,t.jsxs)("form",{onSubmit:o,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"ข้อมูลวิดีโอ"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"ชื่อวิดีโอ"}),(0,t.jsx)("input",{type:"text",value:i.title,onChange:e=>n({...i,title:e.target.value}),className:"form-input",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"URL วิดีโอ (YouTube)"}),(0,t.jsx)("input",{type:"url",value:i.video_url,onChange:e=>n({...i,video_url:e.target.value}),className:"form-input",placeholder:"https://www.youtube.com/watch?v=...",required:!0}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Paste ลิงก์ YouTube ที่นี่"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"คำอธิบาย"}),(0,t.jsx)("textarea",{value:i.description,onChange:e=>n({...i,description:e.target.value}),className:"form-input min-h-[100px]",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"ระยะเวลา"}),(0,t.jsx)("input",{type:"text",value:i.duration,onChange:e=>n({...i,duration:e.target.value}),className:"form-input",placeholder:"เช่น 5:30"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"หมวดหมู่"}),(0,t.jsxs)("select",{value:i.category,onChange:e=>n({...i,category:e.target.value}),className:"form-input",children:[(0,t.jsx)("option",{value:"introduction",children:"แนะนำ"}),(0,t.jsx)("option",{value:"activity",children:"กิจกรรม"}),(0,t.jsx)("option",{value:"workshop",children:"Workshop"}),(0,t.jsx)("option",{value:"event",children:"งานอีเว้นท์"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"สถานะ"}),(0,t.jsxs)("select",{value:i.status,onChange:e=>n({...i,status:e.target.value}),className:"form-input",children:[(0,t.jsx)("option",{value:"draft",children:"ร่าง"}),(0,t.jsx)("option",{value:"published",children:"เผยแพร่"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>e.push("/videos"),className:"btn-secondary",children:"ยกเลิก"}),(0,t.jsx)("button",{type:"submit",disabled:s,className:"btn-primary disabled:opacity-50",children:s?"กำลังบันทึก...":"เพิ่มวิดีโอ"})]})]})]})}},9376:function(e,s,a){"use strict";var t=a(5475);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=1367)}),_N_E=e.O()}]);