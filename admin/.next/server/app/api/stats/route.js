"use strict";(()=>{var t={};t.id=2961,t.ids=[2961],t.modules={399:t=>{t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2615:t=>{t.exports=require("http")},8791:t=>{t.exports=require("https")},8621:t=>{t.exports=require("punycode")},6162:t=>{t.exports=require("stream")},7360:t=>{t.exports=require("url")},1568:t=>{t.exports=require("zlib")},7545:(t,e,r)=>{r.r(e),r.d(e,{originalPathname:()=>f,patchFetch:()=>g,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{GET:()=>p,dynamic:()=>u});var a=r(9303),i=r(8716),o=r(670),l=r(7070),n=r(5662);let u="force-dynamic";async function p(t){try{let[t,e,r,s]=await Promise.all([n.O.from("articles").select("id, status").limit(1e3),n.O.from("products").select("id, status").limit(1e3),n.O.from("trips").select("id, status").limit(1e3),n.O.from("videos").select("id, status").limit(1e3)]),a=t.data||[],i=e.data||[],o=r.data||[],u=s.data||[],p={total:o.length,active:o.filter(t=>"published"===t.status).length,draft:o.filter(t=>"draft"===t.status).length},d={total:i.length,available:i.filter(t=>"available"===t.status).length,outOfStock:i.filter(t=>"out_of_stock"===t.status).length},c={total:a.length,published:a.filter(t=>"published"===t.status).length,draft:a.filter(t=>"draft"===t.status).length},m={total:u.length};return l.NextResponse.json({trips:p,products:d,articles:c,videos:m})}catch(t){return console.error("Stats API error:",t),l.NextResponse.json({trips:{total:0,active:0,draft:0},products:{total:0,available:0,outOfStock:0},articles:{total:0,published:0,draft:0},videos:{total:0}})}}let d=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/stats/route",pathname:"/api/stats",filename:"route",bundlePath:"app/api/stats/route"},resolvedPagePath:"/Users/nattagid/GitHub/greenbluerestbangkok/admin/app/api/stats/route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:h}=d,f="/api/stats/route";function g(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}},5662:(t,e,r)=>{r.d(e,{O:()=>s});let s=(0,r(4738).eI)("https://gmdvkegcejrbrobtrhfm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdtZHZrZWdjZWpyYnJvYnRyaGZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjYzMDUzNDIsImV4cCI6MjA0MTg4MTM0Mn0.xf2zwnE8davt7K0K3EPlYkNbiV4qKEfCYNn76xFvZQo")}};var e=require("../../../webpack-runtime.js");e.C(t);var r=t=>e(e.s=t),s=e.X(0,[9276,5972,4738],()=>r(7545));module.exports=s})();